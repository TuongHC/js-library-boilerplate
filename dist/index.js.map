{"version":3,"sources":["webpack://drawingTool/webpack/universalModuleDefinition","webpack://drawingTool/webpack/bootstrap","webpack://drawingTool/./src/index.js","webpack://drawingTool/./src/scss/styles.scss?876a","webpack://drawingTool/./src/scss/styles.scss","webpack://drawingTool/./node_modules/css-loader/dist/runtime/api.js","webpack://drawingTool/./node_modules/style-loader/lib/addStyles.js","webpack://drawingTool/./node_modules/style-loader/lib/urls.js","webpack://drawingTool/./src/lib/polyfills.js","webpack://drawingTool/./src/lib/croppr.js","webpack://drawingTool/./src/lib/core.js","webpack://drawingTool/./src/lib/handle.js","webpack://drawingTool/./src/lib/box.js","webpack://drawingTool/./src/lib/touch.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_croppr","defaultExport","content","options","hmr","transform","insertInto","undefined","locals","push","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","fn","memo","stylesInDom","isOldIE","document","all","atob","apply","arguments","getElement","target","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","setTimeout","clearTimeout","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","Event","MouseEvent","eventType","mouseEvent","initMouseEvent","_core","Croppr","_deferred","_classCallCheck","_possibleConstructorReturn","__proto__","getPrototypeOf","CropprCore","_get","src","y","box","move","redraw","onCropEnd","getValue","width","height","origin","resize","factor","scale","initializeBox","HANDLES","position","constraints","cursor","_this","deferred","parseOptions","nodeName","getAttribute","_initialized","_restore","onload","initialize","createDOM","convertToPixels","cropperEl","attachHandlerEvents","attachRegionEvents","attachOverlayEvents","onInitialize","targetEl","containerEl","className","eventBus","_touch2","imageEl","imageClippedEl","cloneNode","regionEl","overlayEl","handleContainerEl","handles","handle","Handle","parentElement","replaceChild","_this2","opts","startSize","Box","constrainToRatio","aspectRatio","min","minSize","maxSize","constrainToSize","parentWidth","offsetWidth","parentHeight","offsetHeight","constrainToBoundary","_this3","round","x1","y1","x2","y2","clip","center","getAbsolutePoint","xSign","ySign","foregroundHandleIndex","handleWidth","handleHeight","left","top","zIndex","addEventListener","onHandleMoveStart","onHandleMoveMoving","onHandleMoveEnd","onMouseMove","stopPropagation","dispatchEvent","mouseX","clientX","mouseY","clientY","onMouseUp","removeEventListener","onRegionMoveStart","onRegionMoveMoving","onRegionMoveEnd","SOUTHEAST_HANDLE_IDX","self","tmpBox","container","getBoundingClientRect","originPoint","_box$getAbsolutePoint","_box$getAbsolutePoint2","_slicedToArray","originX","originY","activeHandle","onCropStart","_e$detail","slice","TOP_MOVABLE","RIGHT_MOVABLE","BOTTOM_MOVABLE","LEFT_MOVABLE","MULTI_AXIS","isFlippedX","isFlippedY","tmp","ratio","isVerticalMovement","ratioMode","onCropMove","_e$detail2","currentMove","offsetX","offsetY","_e$detail3","_currentMove","returnMode","actualWidth","naturalWidth","actualHeight","naturalHeight","_imageEl$getBoundingC","factorX","factorY","_imageEl$getBoundingC2","elementWidth","elementHeight","defaults","unit","Array","onUpdate","console","warn","toLowerCase","defaultValue","v","sizeKeys","decimals","Number","abs","newWidth","newHeight","fromX","fromY","point","grow","boundaryWidth","boundaryHeight","_getAbsolutePoint","_getAbsolutePoint2","maxIfLeft","maxIfTop","maxIfRight","maxIfBottom","directionX","directionY","maxWidth","maxHeight","minWidth","minHeight","simulateMouseEvent","preventDefault","touch","changedTouches","touchstart","touchmove","touchend","view","screenX","screenY"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"drawingTool\"] = factory();\n\telse\n\t\troot[\"drawingTool\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// import `.scss` files\nimport './scss/styles.scss';\n// import UserList class\n\n\nimport './lib/polyfills';\n\nimport { Croppr as defaultExport } from './lib/croppr';\nexport default defaultExport;","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js!../../node_modules/sass-loader/lib/loader.js!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/postcss-loader/src/index.js!../../node_modules/sass-loader/lib/loader.js!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".users-list{width:400px;min-height:200px;border-radius:3px;background-color:#fff;padding:15px 30px;list-style-type:none}.users-list>li{line-height:30px}.croppr-container *{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.croppr-container img{vertical-align:middle;max-width:100%}.croppr{position:relative;display:inline-block}.croppr-overlay{background:rgba(0,0,0,.5);position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;cursor:crosshair}.croppr-region{border:1px dashed rgba(0,0,0,.5);position:absolute;z-index:3;cursor:move;top:0}.croppr-imageClipped{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;pointer-events:none}.croppr-handle{border:1px solid #000;background-color:#fff;width:10px;height:10px;position:absolute;z-index:4;top:0}\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","/**\n * POLYFILLS\n */\n\n// Request Animation Frame polyfill\n(function () {\n  var lastTime = 0;\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']\n      || window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame)\n    window.requestAnimationFrame = function (callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function () { callback(currTime + timeToCall); },\n        timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n\n  if (!window.cancelAnimationFrame)\n    window.cancelAnimationFrame = function (id) {\n      clearTimeout(id);\n    };\n}());\n\n// CustomEvents polyfill\n(function () {\n\n  if (typeof window.CustomEvent === \"function\") return false;\n\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n})();\n\n// MouseEvents polyfill\n(function (window) {\n  try {\n    new CustomEvent('test');\n    return false; // No need to polyfill\n  } catch (e) {\n    // Need to polyfill - fall through\n  }\n\n  // Polyfills DOM4 CustomEvent\n  function MouseEvent(eventType, params) {\n    params = params || { bubbles: false, cancelable: false };\n    var mouseEvent = document.createEvent('MouseEvent');\n    mouseEvent.initMouseEvent(eventType, params.bubbles, params.cancelable, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n    return mouseEvent;\n  }\n\n  MouseEvent.prototype = Event.prototype;\n\n  window.MouseEvent = MouseEvent;\n})(window);","\nimport CropprCore from './core';\n\n/**\n * This class is a wrapper for CropprCore that merely implements the main\n * interfaces for the Croppr instance. Look into CropprCore for all the\n * main logic.\n */\nexport class Croppr extends CropprCore {\n  /**\n   * @constructor\n   * Calls the CropprCore's constructor.\n   */\n  constructor(element, options, _deferred = false) {\n    debugger\n    super(element, options, _deferred);\n  }\n\n  /**\n   * Gets the value of the crop region.\n   * @param {String} [mode] Which mode of calculation to use: 'real', 'ratio' or\n   *      'raw'.\n   */\n  getValue(mode) {\n    return super.getValue(mode);\n  }\n\n  /**\n   * Changes the image src.\n   * @param {String} src\n   */\n  setImage(src) {\n    return super.setImage(src);\n  }\n\n  /**\n   * Destroys the Croppr instance\n   */\n  destroy() {\n    return super.destroy();\n  }\n\n  /**\n   * Moves the crop region to a specified coordinate.\n   * @param {Number} x\n   * @param {Number} y\n   */\n  moveTo(x, y) {\n    this.box.move(x, y);\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n\n  /**\n   * Resizes the crop region to a specified width and height.\n   * @param {Number} width\n   * @param {Number} height\n   * @param {Array} origin The origin point to resize from.\n   *      Defaults to [0.5, 0.5] (center).\n   */\n  resizeTo(width, height, origin = [.5, .5]) {\n    this.box.resize(width, height, origin);\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n\n  /**\n   * Scale the crop region by a factor.\n   * @param {Number} factor\n   * @param {Array} origin The origin point to resize from.\n   *      Defaults to [0.5, 0.5] (center).\n   */\n  scaleBy(factor, origin = [.5, .5]) {\n    this.box.scale(factor, origin);\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n\n  /**\n   * Resets the crop region to the initial settings.\n   */\n  reset() {\n    this.box = this.initializeBox(this.options);\n    this.redraw();\n\n    // Call the callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n    return this;\n  }\n}","/**\n * CropprCore\n * Here lies the main logic.\n */\n\nimport Handle from './handle';\nimport Box from './box';\nimport enableTouch from './touch';\n\n/**\n * Define a list of handles to create.\n * \n * @property {Array} position - The x and y ratio position of the handle within\n *      the crop region. Accepts a value between 0 to 1 in the order of [X, Y].\n * @property {Array} constraints - Define the side of the crop region that is to\n *      be affected by this handle. Accepts a value of 0 or 1 in the order of\n *      [TOP, RIGHT, BOTTOM, LEFT].\n * @property {String} cursor - The CSS cursor of this handle.\n */\nconst HANDLES = [\n  { position: [0.0, 0.0], constraints: [1, 0, 0, 1], cursor: 'nw-resize' },\n  { position: [0.5, 0.0], constraints: [1, 0, 0, 0], cursor: 'n-resize' },\n  { position: [1.0, 0.0], constraints: [1, 1, 0, 0], cursor: 'ne-resize' },\n  { position: [1.0, 0.5], constraints: [0, 1, 0, 0], cursor: 'e-resize' },\n  { position: [1.0, 1.0], constraints: [0, 1, 1, 0], cursor: 'se-resize' },\n  { position: [0.5, 1.0], constraints: [0, 0, 1, 0], cursor: 's-resize' },\n  { position: [0.0, 1.0], constraints: [0, 0, 1, 1], cursor: 'sw-resize' },\n  { position: [0.0, 0.5], constraints: [0, 0, 0, 1], cursor: 'w-resize' }\n]\n\n/**\n * Core class for Croppr containing most of its functional logic.\n */\nexport default class CropprCore {\n  constructor(element, options, deferred = false) {\n\n    // Parse options\n    this.options = CropprCore.parseOptions(options || {});\n\n    // Get target img element\n    if (!element.nodeName) {\n      element = document.querySelector(element);\n      if (element == null) { throw 'Unable to find element.' }\n    }\n    if (!element.getAttribute('src')) {\n      throw 'Image src not provided.'\n    }\n\n    // Define internal props\n    this._initialized = false;\n    this._restore = {\n      parent: element.parentNode,\n      element: element\n    }\n\n    // Wait until image is loaded before proceeding\n    if (!deferred) {\n      if (element.width === 0 || element.height === 0) {\n        element.onload = () => { this.initialize(element); }\n      } else {\n        this.initialize(element);\n      }\n    }\n  }\n\n  /**\n   * Initialize the Croppr instance\n   */\n  initialize(element) {\n    // Create DOM elements\n    this.createDOM(element);\n\n    // Process option values\n    this.options.convertToPixels(this.cropperEl);\n\n    // Listen for events from children\n    this.attachHandlerEvents();\n    this.attachRegionEvents();\n    this.attachOverlayEvents();\n\n    // Bootstrap this cropper instance\n    this.box = this.initializeBox(this.options);\n    this.redraw();\n\n    // Set the initalized flag to true and call the callback\n    this._initialized = true;\n    if (this.options.onInitialize !== null) {\n      this.options.onInitialize(this);\n    }\n  }\n\n  /**\n   * Create Croppr's DOM elements\n   */\n  createDOM(targetEl) {\n    // Create main container and use it as the main event listeners\n    this.containerEl = document.createElement('div');\n    this.containerEl.className = 'croppr-container';\n    this.eventBus = this.containerEl;\n    enableTouch(this.containerEl);\n\n    // Create cropper element\n    this.cropperEl = document.createElement('div');\n    this.cropperEl.className = 'croppr';\n\n    // Create image element\n    this.imageEl = document.createElement('img');\n    this.imageEl.setAttribute('src', targetEl.getAttribute('src'));\n    this.imageEl.setAttribute('alt', targetEl.getAttribute('alt'));\n    this.imageEl.className = 'croppr-image';\n\n    // Create clipped image element\n    this.imageClippedEl = this.imageEl.cloneNode();\n    this.imageClippedEl.className = 'croppr-imageClipped';\n\n    // Create region box element\n    this.regionEl = document.createElement('div');\n    this.regionEl.className = 'croppr-region';\n\n    // Create overlay element\n    this.overlayEl = document.createElement('div');\n    this.overlayEl.className = 'croppr-overlay';\n\n    // Create handles element\n    let handleContainerEl = document.createElement('div');\n    handleContainerEl.className = 'croppr-handleContainer';\n    this.handles = [];\n    for (let i = 0; i < HANDLES.length; i++) {\n      const handle = new Handle(HANDLES[i].position,\n        HANDLES[i].constraints,\n        HANDLES[i].cursor,\n        this.eventBus);\n      this.handles.push(handle);\n      handleContainerEl.appendChild(handle.el);\n    }\n\n    // And then we piece it all together!\n    this.cropperEl.appendChild(this.imageEl);\n    this.cropperEl.appendChild(this.imageClippedEl);\n    this.cropperEl.appendChild(this.regionEl);\n    this.cropperEl.appendChild(this.overlayEl);\n    this.cropperEl.appendChild(handleContainerEl);\n    this.containerEl.appendChild(this.cropperEl);\n\n    // And then finally insert it into the document\n    targetEl.parentElement.replaceChild(this.containerEl, targetEl);\n  }\n\n  /**\n   * Changes the image src.\n   * @param {String} src\n   */\n  setImage(src) {\n    // Add onload listener to reinitialize box\n    this.imageEl.onload = () => {\n      this.box = this.initializeBox(this.options);\n      this.redraw();\n    }\n\n    // Change image source\n    this.imageEl.src = src;\n    this.imageClippedEl.src = src;\n    return this;\n  }\n\n  /**\n   * Destroy the Croppr instance and replace with the original element.\n   */\n  destroy() {\n    this._restore.parent.replaceChild(this._restore.element, this.containerEl);\n  }\n\n  /**\n   * Create a new box region with a set of options.\n   * @param {Object} opts The options.\n   * @returns {Box}\n   */\n  initializeBox(opts) {\n    // Create initial box\n    const width = opts.startSize.width;\n    const height = opts.startSize.height;\n    let box = new Box(0, 0, width, height)\n\n    // Maintain ratio\n    box.constrainToRatio(opts.aspectRatio, [0.5, 0.5]);\n\n    // Maintain minimum/maximum size\n    const min = opts.minSize;\n    const max = opts.maxSize;\n    box.constrainToSize(max.width, max.height, min.width, min.height,\n      [0.5, 0.5], opts.aspectRatio);\n\n    // Constrain to boundary\n    const parentWidth = this.cropperEl.offsetWidth;\n    const parentHeight = this.cropperEl.offsetHeight;\n    box.constrainToBoundary(parentWidth, parentHeight, [0.5, 0.5]);\n\n    // Move to center\n    const x = (this.cropperEl.offsetWidth / 2) - (box.width() / 2);\n    const y = (this.cropperEl.offsetHeight / 2) - (box.height() / 2);\n    box.move(x, y);\n\n    return box;\n  }\n\n  /**\n   * Draw visuals (border, handles, etc) for the current box.\n   */\n  redraw() {\n    // Round positional values to prevent subpixel coordinates, which can\n    // result in element that is rendered blurly\n    const width = Math.round(this.box.width()),\n      height = Math.round(this.box.height()),\n      x1 = Math.round(this.box.x1),\n      y1 = Math.round(this.box.y1),\n      x2 = Math.round(this.box.x2),\n      y2 = Math.round(this.box.y2);\n\n    window.requestAnimationFrame(() => {\n      // Update region element\n      this.regionEl.style.transform = `translate(${x1}px, ${y1}px)`\n      this.regionEl.style.width = width + 'px';\n      this.regionEl.style.height = height + 'px';\n\n      // Update clipped image element\n      this.imageClippedEl.style.clip = `rect(${y1}px, ${x2}px, ${y2}px, ${x1}px)`;\n\n      // Determine which handle to bring forward. The following code\n      // calculates the quadrant the box is in using bitwise operators.\n      // Reference: https://stackoverflow.com/questions/9718059\n      const center = this.box.getAbsolutePoint([.5, .5]);\n      const xSign = (center[0] - this.cropperEl.offsetWidth / 2) >> 31;\n      const ySign = (center[1] - this.cropperEl.offsetHeight / 2) >> 31;\n      const quadrant = (xSign ^ ySign) + ySign + ySign + 4;\n\n      // The following equation calculates which handle index to bring\n      // forward. The equation is derived using algebra (if youre curious)\n      const foregroundHandleIndex = -2 * quadrant + 8\n\n      // Update handle positions\n      for (let i = 0; i < this.handles.length; i++) {\n        let handle = this.handles[i];\n\n        // Calculate handle position\n        const handleWidth = handle.el.offsetWidth;\n        const handleHeight = handle.el.offsetHeight;\n        const left = x1 + (width * handle.position[0]) - handleWidth / 2;\n        const top = y1 + (height * handle.position[1]) - handleHeight / 2;\n\n        // Apply new position. The positional values are rounded to\n        // prevent subpixel positions which can result in a blurry element\n        handle.el.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;\n        handle.el.style.zIndex = foregroundHandleIndex == i ? 5 : 4;\n      }\n    });\n  }\n\n  /**\n   * Attach listeners for events emitted by the handles.\n   * Enables resizing of the region element.\n   */\n  attachHandlerEvents() {\n    const eventBus = this.eventBus;\n    eventBus.addEventListener('handlestart', this.onHandleMoveStart.bind(this));\n    eventBus.addEventListener('handlemove', this.onHandleMoveMoving.bind(this));\n    eventBus.addEventListener('handleend', this.onHandleMoveEnd.bind(this));\n  }\n\n  /**\n   * Attach event listeners for the crop region element.\n   * Enables dragging/moving of the region element.\n   */\n  attachRegionEvents() {\n    const eventBus = this.eventBus;\n    const self = this;\n\n    this.regionEl.addEventListener('mousedown', onMouseDown);\n    eventBus.addEventListener('regionstart', this.onRegionMoveStart.bind(this));\n    eventBus.addEventListener('regionmove', this.onRegionMoveMoving.bind(this));\n    eventBus.addEventListener('regionend', this.onRegionMoveEnd.bind(this));\n\n    function onMouseDown(e) {\n      e.stopPropagation();\n      document.addEventListener('mouseup', onMouseUp);\n      document.addEventListener('mousemove', onMouseMove);\n\n      // Notify parent\n      eventBus.dispatchEvent(new CustomEvent('regionstart', {\n        detail: { mouseX: e.clientX, mouseY: e.clientY }\n      }));\n    }\n\n    function onMouseMove(e) {\n      e.stopPropagation();\n\n      // Notify parent\n      eventBus.dispatchEvent(new CustomEvent('regionmove', {\n        detail: { mouseX: e.clientX, mouseY: e.clientY }\n      }));\n    }\n\n    function onMouseUp(e) {\n      e.stopPropagation();\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('mousemove', onMouseMove);\n\n      // Notify parent\n      eventBus.dispatchEvent(new CustomEvent('regionend', {\n        detail: { mouseX: e.clientX, mouseY: e.clientY }\n      }));\n    }\n  }\n\n  /**\n   * Attach event listeners for the overlay element.\n   * Enables the creation of a new selection by dragging an empty area.\n   */\n  attachOverlayEvents() {\n    const SOUTHEAST_HANDLE_IDX = 4;\n    const self = this;\n    let tmpBox = null;\n    this.overlayEl.addEventListener('mousedown', onMouseDown);\n\n    function onMouseDown(e) {\n      e.stopPropagation();\n      document.addEventListener('mouseup', onMouseUp);\n      document.addEventListener('mousemove', onMouseMove);\n\n      // Calculate mouse's position in relative to the container\n      const container = self.cropperEl.getBoundingClientRect();\n      const mouseX = e.clientX - container.left;\n      const mouseY = e.clientY - container.top;\n\n      // Create new box at mouse position\n      tmpBox = self.box;\n      self.box = new Box(mouseX, mouseY, mouseX + 1, mouseY + 1);\n\n      // Activate the bottom right handle\n      self.eventBus.dispatchEvent(new CustomEvent('handlestart', {\n        detail: { handle: self.handles[SOUTHEAST_HANDLE_IDX] }\n      }));\n    }\n\n    function onMouseMove(e) {\n      e.stopPropagation();\n      self.eventBus.dispatchEvent(new CustomEvent('handlemove', {\n        detail: { mouseX: e.clientX, mouseY: e.clientY }\n      }));\n    }\n\n    function onMouseUp(e) {\n      e.stopPropagation();\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('mousemove', onMouseMove);\n\n      // If the new box has no width and height, it suggests that\n      // the user had just clicked on an empty area and did not drag\n      // a new box (ie. an accidental click). In this scenario, we\n      // simply replace it with the previous box.\n      if (self.box.width() === 1 && self.box.height() === 1) {\n        self.box = tmpBox;\n        return;\n      }\n\n      self.eventBus.dispatchEvent(new CustomEvent('handleend', {\n        detail: { mouseX: e.clientX, mouseY: e.clientY }\n      }));\n    }\n\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user begins dragging a handle.\n   */\n  onHandleMoveStart(e) {\n    let handle = e.detail.handle;\n\n    // The origin point is the point where the box is scaled from.\n    // This is usually the opposite side/corner of the active handle.\n    const originPoint = [1 - handle.position[0], 1 - handle.position[1]];\n    let [originX, originY] = this.box.getAbsolutePoint(originPoint);\n\n    this.activeHandle = { handle, originPoint, originX, originY }\n\n    // Trigger callback\n    if (this.options.onCropStart !== null) {\n      this.options.onCropStart(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes on handle move. Main logic to manage the movement of handles.\n   */\n  onHandleMoveMoving(e) {\n    let { mouseX, mouseY } = e.detail;\n\n    // Calculate mouse's position in relative to the container\n    let container = this.cropperEl.getBoundingClientRect();\n    mouseX = mouseX - container.left;\n    mouseY = mouseY - container.top;\n\n    // Ensure mouse is within the boundaries\n    if (mouseX < 0) { mouseX = 0; }\n    else if (mouseX > container.width) { mouseX = container.width; }\n\n    if (mouseY < 0) { mouseY = 0; }\n    else if (mouseY > container.height) { mouseY = container.height; }\n\n    // Bootstrap helper variables\n    let origin = this.activeHandle.originPoint.slice();\n    const originX = this.activeHandle.originX;\n    const originY = this.activeHandle.originY;\n    const handle = this.activeHandle.handle;\n    const TOP_MOVABLE = handle.constraints[0] === 1;\n    const RIGHT_MOVABLE = handle.constraints[1] === 1;\n    const BOTTOM_MOVABLE = handle.constraints[2] === 1;\n    const LEFT_MOVABLE = handle.constraints[3] === 1;\n    const MULTI_AXIS = (LEFT_MOVABLE || RIGHT_MOVABLE) &&\n      (TOP_MOVABLE || BOTTOM_MOVABLE);\n\n    // Apply movement to respective sides according to the handle's\n    // constraint values.\n    let x1 = LEFT_MOVABLE || RIGHT_MOVABLE ? originX : this.box.x1;\n    let x2 = LEFT_MOVABLE || RIGHT_MOVABLE ? originX : this.box.x2;\n    let y1 = TOP_MOVABLE || BOTTOM_MOVABLE ? originY : this.box.y1;\n    let y2 = TOP_MOVABLE || BOTTOM_MOVABLE ? originY : this.box.y2;\n    x1 = LEFT_MOVABLE ? mouseX : x1;\n    x2 = RIGHT_MOVABLE ? mouseX : x2;\n    y1 = TOP_MOVABLE ? mouseY : y1;\n    y2 = BOTTOM_MOVABLE ? mouseY : y2;\n\n    // Check if the user dragged past the origin point. If it did,\n    // we set the flipped flag to true.\n    let [isFlippedX, isFlippedY] = [false, false];\n    if (LEFT_MOVABLE || RIGHT_MOVABLE) {\n      isFlippedX = LEFT_MOVABLE ? mouseX > originX : mouseX < originX;\n    }\n    if (TOP_MOVABLE || BOTTOM_MOVABLE) {\n      isFlippedY = TOP_MOVABLE ? mouseY > originY : mouseY < originY;\n    }\n\n    // If it is flipped, we swap the coordinates and flip the origin point.\n    if (isFlippedX) {\n      const tmp = x1; x1 = x2; x2 = tmp; // Swap x1 and x2\n      origin[0] = 1 - origin[0]; // Flip origin x point\n    }\n    if (isFlippedY) {\n      const tmp = y1; y1 = y2; y2 = tmp; // Swap y1 and y2\n      origin[1] = 1 - origin[1]; // Flip origin y point\n    }\n\n    // Create new box object\n    let box = new Box(x1, y1, x2, y2);\n\n    // Maintain aspect ratio\n    if (this.options.aspectRatio) {\n      const ratio = this.options.aspectRatio;\n      let isVerticalMovement = false;\n      if (MULTI_AXIS) {\n        isVerticalMovement = (mouseY > box.y1 + ratio * box.width()) ||\n          (mouseY < box.y2 - ratio * box.width());\n      } else if (TOP_MOVABLE || BOTTOM_MOVABLE) {\n        isVerticalMovement = true;\n      }\n      const ratioMode = isVerticalMovement ? 'width' : 'height';\n      box.constrainToRatio(ratio, origin, ratioMode);\n    }\n\n    // Maintain minimum/maximum size\n    const min = this.options.minSize;\n    const max = this.options.maxSize;\n    box.constrainToSize(max.width, max.height, min.width,\n      min.height, origin, this.options.aspectRatio);\n\n    // Constrain to boundary\n    const parentWidth = this.cropperEl.offsetWidth;\n    const parentHeight = this.cropperEl.offsetHeight;\n    box.constrainToBoundary(parentWidth, parentHeight, origin);\n\n    // Finally, update the visuals (border, handles, clipped image, etc)\n    this.box = box;\n    this.redraw();\n\n    // Trigger callback\n    if (this.options.onCropMove !== null) {\n      this.options.onCropMove(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes on handle move end.\n   */\n  onHandleMoveEnd(e) {\n    // Trigger callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user starts moving the crop region.\n   */\n  onRegionMoveStart(e) {\n    let { mouseX, mouseY } = e.detail;\n\n    // Calculate mouse's position in relative to the container\n    let container = this.cropperEl.getBoundingClientRect();\n    mouseX = mouseX - container.left;\n    mouseY = mouseY - container.top;\n\n    this.currentMove = {\n      offsetX: mouseX - this.box.x1,\n      offsetY: mouseY - this.box.y1\n    }\n\n    // Trigger callback\n    if (this.options.onCropStart !== null) {\n      this.options.onCropStart(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user moves the crop region.\n   */\n  onRegionMoveMoving(e) {\n    let { mouseX, mouseY } = e.detail;\n    let { offsetX, offsetY } = this.currentMove;\n\n    // Calculate mouse's position in relative to the container\n    let container = this.cropperEl.getBoundingClientRect();\n    mouseX = mouseX - container.left;\n    mouseY = mouseY - container.top;\n\n    this.box.move(mouseX - offsetX, mouseY - offsetY);\n\n    // Ensure box is within the boundaries\n    if (this.box.x1 < 0) {\n      this.box.move(0, null);\n    }\n    if (this.box.x2 > container.width) {\n      this.box.move(container.width - this.box.width(), null);\n    }\n    if (this.box.y1 < 0) {\n      this.box.move(null, 0);\n    }\n    if (this.box.y2 > container.height) {\n      this.box.move(null, container.height - this.box.height());\n    }\n\n    // Update visuals\n    this.redraw();\n\n    // Trigger callback\n    if (this.options.onCropMove !== null) {\n      this.options.onCropMove(this.getValue());\n    }\n  }\n\n  /**\n   * EVENT HANDLER\n   * Executes when user stops moving the crop region (mouse up).\n   */\n  onRegionMoveEnd(e) {\n    // Trigger callback\n    if (this.options.onCropEnd !== null) {\n      this.options.onCropEnd(this.getValue());\n    }\n  }\n\n\n  /**\n   * Calculate the value of the crop region.\n   */\n  getValue(mode = null) {\n    if (mode === null) { mode = this.options.returnMode; }\n    if (mode == 'real') {\n      const actualWidth = this.imageEl.naturalWidth;\n      const actualHeight = this.imageEl.naturalHeight;\n      const { width: elementWidth, height: elementHeight } = this.imageEl.getBoundingClientRect();\n      const factorX = actualWidth / elementWidth;\n      const factorY = actualHeight / elementHeight;\n      return {\n        x: Math.round(this.box.x1 * factorX),\n        y: Math.round(this.box.y1 * factorY),\n        width: Math.round(this.box.width() * factorX),\n        height: Math.round(this.box.height() * factorY)\n      }\n    } else if (mode == 'ratio') {\n      const { width: elementWidth, height: elementHeight } = this.imageEl.getBoundingClientRect();\n      return {\n        x: round(this.box.x1 / elementWidth, 3),\n        y: round(this.box.y1 / elementHeight, 3),\n        width: round(this.box.width() / elementWidth, 3),\n        height: round(this.box.height() / elementHeight, 3)\n      }\n    } else if (mode == 'raw') {\n      return {\n        x: Math.round(this.box.x1),\n        y: Math.round(this.box.y1),\n        width: Math.round(this.box.width()),\n        height: Math.round(this.box.height())\n      }\n    }\n  }\n\n  /**\n   * Parse user options and set default values.\n   */\n  static parseOptions(opts) {\n    const defaults = {\n      aspectRatio: null,\n      maxSize: { width: null, height: null },\n      minSize: { width: null, height: null },\n      startSize: { width: 100, height: 100, unit: '%' },\n      returnMode: 'real',\n      onInitialize: null,\n      onCropStart: null,\n      onCropMove: null,\n      onCropEnd: null,\n    }\n\n    // Parse aspect ratio\n    let aspectRatio = null;\n    if (opts.aspectRatio !== undefined) {\n      if (typeof (opts.aspectRatio) === 'number') {\n        aspectRatio = opts.aspectRatio\n      } else if (opts.aspectRatio instanceof Array) {\n        aspectRatio = opts.aspectRatio[1] / opts.aspectRatio[0];\n      }\n    }\n\n    // Parse max width/height\n    let maxSize = null;\n    if (opts.maxSize !== undefined && opts.maxSize !== null) {\n      maxSize = {\n        width: opts.maxSize[0] || null,\n        height: opts.maxSize[1] || null,\n        unit: opts.maxSize[2] || 'px'\n      }\n    }\n\n    // Parse min width/height\n    let minSize = null;\n    if (opts.minSize !== undefined && opts.minSize !== null) {\n      minSize = {\n        width: opts.minSize[0] || null,\n        height: opts.minSize[1] || null,\n        unit: opts.minSize[2] || 'px'\n      }\n    }\n\n    // Parse start size\n    let startSize = null;\n    if (opts.startSize !== undefined && opts.startSize !== null) {\n      startSize = {\n        width: opts.startSize[0] || null,\n        height: opts.startSize[1] || null,\n        unit: opts.startSize[2] || '%'\n      }\n    }\n\n    // Parse callbacks\n    let onInitialize = null;\n    if (typeof opts.onInitialize === 'function') {\n      onInitialize = opts.onInitialize;\n    }\n\n    let onCropStart = null;\n    if (typeof opts.onCropStart === 'function') {\n      onCropStart = opts.onCropStart;\n    }\n\n    let onCropEnd = null;\n    if (typeof opts.onCropEnd === 'function') {\n      onCropEnd = opts.onCropEnd;\n    }\n\n    let onCropMove = null;\n    if (typeof opts.onUpdate === 'function') {\n      // DEPRECATED: onUpdate is deprecated to create a more uniform\n      // callback API, such as: onCropStart, onCropMove, onCropEnd\n      console.warn('Croppr.js: `onUpdate` is deprecated and will be removed in the next major release. Please use `onCropMove` or `onCropEnd` instead.');\n      onCropMove = opts.onUpdate;\n    }\n    if (typeof opts.onCropMove === 'function') {\n      onCropMove = opts.onCropMove;\n    }\n\n    // Parse returnMode value\n    let returnMode = null;\n    if (opts.returnMode !== undefined) {\n      const s = opts.returnMode.toLowerCase();\n      if (['real', 'ratio', 'raw'].indexOf(s) === -1) {\n        throw \"Invalid return mode.\";\n      }\n      returnMode = s;\n    }\n\n    // Create function to convert % values to pixels\n    const convertToPixels = function (container) {\n      const width = container.offsetWidth;\n      const height = container.offsetHeight;\n\n      // Convert sizes\n      const sizeKeys = ['maxSize', 'minSize', 'startSize'];\n      for (let i = 0; i < sizeKeys.length; i++) {\n        const key = sizeKeys[i];\n        if (this[key] !== null) {\n          if (this[key].unit == '%') {\n            if (this[key].width !== null) {\n              this[key].width = (this[key].width / 100) * width;\n            }\n            if (this[key].height !== null) {\n              this[key].height = (this[key].height / 100) * height;\n            }\n          }\n          delete this[key].unit;\n        }\n      }\n    }\n\n    const defaultValue = (v, d) => (v !== null ? v : d);\n    return {\n      aspectRatio: defaultValue(aspectRatio, defaults.aspectRatio),\n      maxSize: defaultValue(maxSize, defaults.maxSize),\n      minSize: defaultValue(minSize, defaults.minSize),\n      startSize: defaultValue(startSize, defaults.startSize),\n      returnMode: defaultValue(returnMode, defaults.returnMode),\n      onInitialize: defaultValue(onInitialize, defaults.onInitialize),\n      onCropStart: defaultValue(onCropStart, defaults.onCropStart),\n      onCropMove: defaultValue(onCropMove, defaults.onCropMove),\n      onCropEnd: defaultValue(onCropEnd, defaults.onCropEnd),\n      convertToPixels: convertToPixels\n    }\n  }\n}\n\n/**\n * HELPER FUNCTIONS\n */\n\nfunction round(value, decimals) {\n  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);\n}\n","/**\n * Handle component\n */\nexport default class Handle {\n\n  /**\n   * Creates a new Handle instance.\n   * @constructor\n   * @param {Array} position The x and y ratio position of the handle\n   *      within the crop region. Accepts a value between 0 to 1 in the order\n   *      of [X, Y].\n   * @param {Array} constraints Define the side of the crop region that\n   *      is to be affected by this handle. Accepts a value of 0 or 1 in the\n   *      order of [TOP, RIGHT, BOTTOM, LEFT].\n   * @param {String} cursor The CSS cursor of this handle.\n   * @param {Element} eventBus The element to dispatch events to.\n   */\n  constructor(position, constraints, cursor, eventBus) {\n\n    var self = this;\n    this.position = position;\n    this.constraints = constraints;\n    this.cursor = cursor;\n    this.eventBus = eventBus;\n\n    // Create DOM element\n    this.el = document.createElement('div');\n    this.el.className = 'croppr-handle';\n    this.el.style.cursor = cursor;\n\n    // Attach initial listener\n    this.el.addEventListener('mousedown', onMouseDown);\n\n    function onMouseDown(e) {\n      e.stopPropagation();\n      document.addEventListener('mouseup', onMouseUp);\n      document.addEventListener('mousemove', onMouseMove);\n\n      // Notify parent\n      self.eventBus.dispatchEvent(new CustomEvent('handlestart', {\n        detail: { handle: self }\n      }));\n    }\n\n    function onMouseUp(e) {\n      e.stopPropagation();\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('mousemove', onMouseMove);\n\n      // Notify parent\n      self.eventBus.dispatchEvent(new CustomEvent('handleend', {\n        detail: { handle: self }\n      }));\n    }\n\n    function onMouseMove(e) {\n      e.stopPropagation();\n\n      // Notify parent\n      self.eventBus.dispatchEvent(new CustomEvent('handlemove', {\n        detail: { mouseX: e.clientX, mouseY: e.clientY }\n      }));\n    }\n  }\n}","/**\n * Box component\n */\nexport default class Box {\n  /**\n   * Creates a new Box instance.\n   * @constructor\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  constructor(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  /** \n   * Sets the new dimensions of the box.\n   * @param {Number} x1\n   * @param {Number} y1\n   * @param {Number} x2\n   * @param {Number} y2\n   */\n  set(x1 = null, y1 = null, x2 = null, y2 = null) {\n    this.x1 = x1 == null ? this.x1 : x1;\n    this.y1 = y1 == null ? this.y1 : y1;\n    this.x2 = x2 == null ? this.x2 : x2;\n    this.y2 = y2 == null ? this.y2 : y2;\n    return this;\n  }\n\n  /**\n   * Calculates the width of the box.\n   * @returns {Number}\n   */\n  width() {\n    return Math.abs(this.x2 - this.x1);\n  }\n\n  /**\n   * Calculates the height of the box.\n   * @returns {Number}\n   */\n  height() {\n    return Math.abs(this.y2 - this.y1);\n  }\n\n  /**\n   * Resizes the box to a new size.\n   * @param {Number} newWidth\n   * @param {Number} newHeight\n   * @param {Array} [origin] The origin point to resize from.\n   *      Defaults to [0, 0] (top left).\n   */\n  resize(newWidth, newHeight, origin = [0, 0]) {\n    const fromX = this.x1 + (this.width() * origin[0]);\n    const fromY = this.y1 + (this.height() * origin[1]);\n\n    this.x1 = fromX - (newWidth * origin[0]);\n    this.y1 = fromY - (newHeight * origin[1]);\n    this.x2 = this.x1 + newWidth;\n    this.y2 = this.y1 + newHeight;\n\n    return this;\n  }\n\n  /**\n   * Scale the box by a factor.\n   * @param {Number} factor\n   * @param {Array} [origin] The origin point to resize from.\n   *      Defaults to [0, 0] (top left).\n   */\n  scale(factor, origin = [0, 0]) {\n    const newWidth = this.width() * factor;\n    const newHeight = this.height() * factor;\n    this.resize(newWidth, newHeight, origin);\n    return this;\n  }\n\n  /**\n   * Move the box to the specified coordinates.\n   */\n  move(x = null, y = null) {\n    let width = this.width();\n    let height = this.height();\n    x = x === null ? this.x1 : x;\n    y = y === null ? this.y1 : y;\n\n    this.x1 = x;\n    this.y1 = y;\n    this.x2 = x + width;\n    this.y2 = y + height;\n    return this;\n  }\n\n  /**\n   * Get relative x and y coordinates of a given point within the box.\n   * @param {Array} point The x and y ratio position within the box.\n   * @returns {Array} The x and y coordinates [x, y].\n   */\n  getRelativePoint(point = [0, 0]) {\n    const x = this.width() * point[0];\n    const y = this.height() * point[1];\n    return [x, y];\n  }\n\n  /**\n   * Get absolute x and y coordinates of a given point within the box.\n   * @param {Array} point The x and y ratio position within the box.\n   * @returns {Array} The x and y coordinates [x, y].\n   */\n  getAbsolutePoint(point = [0, 0]) {\n    const x = this.x1 + this.width() * point[0];\n    const y = this.y1 + this.height() * point[1];\n    return [x, y];\n  }\n\n  /**\n   * Constrain the box to a fixed ratio.\n   * @param {Number} ratio\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   * @param {String} [grow] The axis to grow to maintain the ratio.\n   *     Defaults to 'height'.\n   */\n  constrainToRatio(ratio, origin = [0, 0], grow = 'height') {\n    if (ratio === null) { return; }\n    const width = this.width();\n    const height = this.height();\n    switch (grow) {\n      case 'height': // Grow height only\n        this.resize(this.width(), this.width() * ratio, origin);\n        break;\n      case 'width': // Grow width only\n        this.resize(this.height() * 1 / ratio, this.height(), origin);\n        break;\n      default: // Default: Grow height only\n        this.resize(this.width(), this.width() * ratio, origin);\n    }\n\n    return this;\n  }\n\n  /**\n   * Constrain the box within a boundary.\n   * @param {Number} boundaryWidth\n   * @param {Number} boundaryHeight\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   */\n  constrainToBoundary(boundaryWidth, boundaryHeight, origin = [0, 0]) {\n\n    // Calculate the maximum sizes for each direction of growth\n    const [originX, originY] = this.getAbsolutePoint(origin);\n    const maxIfLeft = originX\n    const maxIfTop = originY\n    const maxIfRight = boundaryWidth - originX\n    const maxIfBottom = boundaryHeight - originY\n\n    // Express the direction of growth in terms of left, both,\n    // and right as -1, 0, and 1 respectively. Ditto for top/both/down.\n    const directionX = -2 * origin[0] + 1;\n    const directionY = -2 * origin[1] + 1;\n\n    // Determine the max size to use according to the direction of growth.\n    let [maxWidth, maxHeight] = [null, null];\n    switch (directionX) {\n      case -1: maxWidth = maxIfLeft; break;\n      case 0: maxWidth = Math.min(maxIfLeft, maxIfRight) * 2; break;\n      case +1: maxWidth = maxIfRight; break;\n    }\n    switch (directionY) {\n      case -1: maxHeight = maxIfTop; break;\n      case 0: maxHeight = Math.min(maxIfTop, maxIfBottom) * 2; break;\n      case +1: maxHeight = maxIfBottom; break;\n    }\n\n    // Resize if the box exceeds the calculated max width/height.\n    if (this.width() > maxWidth) {\n      const factor = maxWidth / this.width();\n      this.scale(factor, origin);\n    }\n    if (this.height() > maxHeight) {\n      const factor = maxHeight / this.height();\n      this.scale(factor, origin);\n    }\n\n    return this;\n  }\n\n  /**\n   * Constrain the box to a maximum/minimum size.\n   * @param {Number} [maxWidth]\n   * @param {Number} [maxHeight]\n   * @param {Number} [minWidth]\n   * @param {Number} [minHeight]\n   * @param {Array} [origin] The origin point to resize from.\n   *     Defaults to [0, 0] (top left).\n   * @param {Number} [ratio] Ratio to maintain.\n   */\n  constrainToSize(maxWidth = null, maxHeight = null,\n    minWidth = null, minHeight = null,\n    origin = [0, 0], ratio = null) {\n\n    // Calculate new max/min widths & heights that constrains to the ratio\n    if (ratio) {\n      if (ratio > 1) {\n        maxWidth = maxHeight * 1 / ratio;\n        minHeight = minHeight * ratio;\n      } else if (ratio < 1) {\n        maxHeight = maxWidth * ratio;\n        minWidth = minHeight * 1 / ratio;\n      }\n    }\n\n    if (maxWidth && this.width() > maxWidth) {\n      const newWidth = maxWidth,\n        newHeight = ratio === null ? this.height() : maxHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (maxHeight && this.height() > maxHeight) {\n      const newWidth = ratio === null ? this.width() : maxWidth,\n        newHeight = maxHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (minWidth && this.width() < minWidth) {\n      const newWidth = minWidth,\n        newHeight = ratio === null ? this.height() : minHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    if (minHeight && this.height() < minHeight) {\n      const newWidth = ratio === null ? this.width() : minWidth,\n        newHeight = minHeight;\n      this.resize(newWidth, newHeight, origin);\n    }\n\n    return this;\n  }\n}\n","/**\n * Croppr Touch\n * Enables support for touch devices by translating touch events to\n * mouse events.\n */\n\n/**\n * Binds an element's touch events to be simulated as mouse events.\n * @param {Element} element\n */\nexport default function enableTouch(element) {\n  element.addEventListener('touchstart', simulateMouseEvent);\n  element.addEventListener('touchend', simulateMouseEvent);\n  element.addEventListener('touchmove', simulateMouseEvent);\n}\n\n/**\n * Translates a touch event to a mouse event.\n * @param {Event} e\n */\nfunction simulateMouseEvent(e) {\n  e.preventDefault();\n  const touch = e.changedTouches[0];\n  const eventMap = {\n    'touchstart': 'mousedown',\n    'touchmove': 'mousemove',\n    'touchend': 'mouseup'\n  }\n\n  touch.target.dispatchEvent(new MouseEvent(eventMap[e.type], {\n    bubbles: true,\n    cancelable: true,\n    view: window,\n    clientX: touch.clientX,\n    clientY: touch.clientY,\n    screenX: touch.screenX,\n    screenY: touch.screenY,\n  }));\n}"],"sourceRoot":""}